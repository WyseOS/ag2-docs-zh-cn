# 代理运行时环境

在基础层面，框架提供了一个_运行时环境_，它促进代理之间的通信，管理它们的身份和生命周期，并执行安全和隐私边界。

它支持两种类型的运行时环境：*独立式*和*分布式*。这两种类型都提供了一组用于构建多代理应用程序的通用 API，因此您可以在它们之间切换而无需更改代理实现。每种类型也可以有多种实现。

## Standalone代理运行时

Standalone运行时适用于所有代理都使用相同编程语言并在同一进程中运行的单进程应用程序。在 Python API 中，独立运行时的一个例子是 {py:class}`~autogen_core.application.SingleThreadedAgentRuntime`。

下图显示了框架中的独立运行时。

![Standalone Runtime](architecture-standalone.svg)

在这里，代理通过运行时通过消息进行通信，运行时管理代理的_生命周期_。

开发人员可以通过使用提供的组件（包括_路由代理_、AI 模型_客户端_、AI 模型工具、代码执行沙箱、模型上下文存储等）快速构建代理。他们也可以从头开始实现自己的代理，或使用其他库。

## 分布式代理运行时

分布式运行时适用于代理可能使用不同编程语言实现并在不同机器上运行的多进程应用程序。

![Distributed Runtime](architecture-distributed.svg)

如上图所示，分布式运行时由一个_主机服务器_和多个_工作节点_组成。主机服务器促进工作节点之间代理的通信，并维护连接的状态。工作节点运行代理并通过_网关_与主机服务器通信。它们向主机服务器公布它们运行的代理，并管理代理的生命周期。

代理的工作方式与独立运行时相同，因此开发人员可以在两种运行时类型之间切换，而无需更改其代理实现。

